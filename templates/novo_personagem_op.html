<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ficha de Ordem Paranormal Automatizada</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../static/op_persongem.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-dragon"></i> Ficha de Ordem Paranormal</h1>
            <p>Automatizada para Agentes da Ordem</p>
        </header>
        
        <!-- Painel Esquerdo: Token e Nome -->
        <div class="left-panel">
            <div class="token-container">
                <div class="token-preview" id="token-preview">
                    <i class="fas fa-user-circle"></i>
                </div>
                <input type="file" id="token-upload" accept="image/*" class="token-upload">
                <button class="btn-save" onclick="document.getElementById('token-upload').click()">
                    <i class="fas fa-upload"></i> Importar Token
                </button>
            </div>
            
            <div class="character-name">
                <input type="text" id="char-name" placeholder="Nome do Personagem">
            </div>
        </div>
        
        <!-- Painel Direito: Abas e Conteúdo -->
        <div class="right-panel">
            <div class="tab-controls">
                <label class="tab-control active" for="tab-status">
                    <input type="checkbox" id="tab-status" name="tab" checked> 
                    <i class="fas fa-heart"></i> Status
                </label>
                <label class="tab-control" for="tab-powers">
                    <input type="checkbox" id="tab-powers" name="tab"> 
                    <i class="fas fa-fire"></i> Poderes e Rituais
                </label>
                <label class="tab-control" for="tab-equipment">
                    <input type="checkbox" id="tab-equipment" name="tab"> 
                    <i class="fas fa-shield-alt"></i> Equipamento
                </label>
            </div>
            
            <div class="tab-content">
                <!-- Aba Status -->
                <div id="status-tab" class="tab-pane active">
                    <h2>Atributos e Perícias</h2>
                    
                    <div class="attributes-grid">
                        <div class="attribute">
                            <label>FORÇA</label>
                            <input type="number" id="for" min="0" max="5" value="1">
                            <div class="modifier" id="for-mod">+1</div>
                        </div>
                        <div class="attribute">
                            <label>AGILIDADE</label>
                            <input type="number" id="agi" min="0" max="5" value="1">
                            <div class="modifier" id="agi-mod">+1</div>
                        </div>
                        <div class="attribute">
                            <label>INTELECTO</label>
                            <input type="number" id="int" min="0" max="5" value="1">
                            <div class="modifier" id="int-mod">+1</div>
                        </div>
                        <div class="attribute">
                            <label>VIGOR</label>
                            <input type="number" id="vig" min="0" max="5" value="1">
                            <div class="modifier" id="vig-mod">+1</div>
                        </div>
                        <div class="attribute">
                            <label>PRESENÇA</label>
                            <input type="number" id="pre" min="0" max="5" value="1">
                            <div class="modifier" id="pre-mod">+1</div>
                        </div>
                    </div>
                    
                    <div class="skills-grid">
                        <div class="skill-category">
                            <h3>Físicas</h3>
                            <div class="skill">
                                <span>Acrobacia (AGI)</span>
                                <input type="number" id="acrobacia" value="1">
                            </div>
                            <div class="skill">
                                <span>Atletismo (FOR)</span>
                                <input type="number" id="atletismo" value="1">
                            </div>
                            <div class="skill">
                                <span>Furtividade (AGI)</span>
                                <input type="number" id="furtividade" value="1">
                            </div>
                            <div class="skill">
                                <span>Pilotagem (AGI)</span>
                                <input type="number" id="pilotagem" value="1">
                            </div>
                            <div class="skill">
                                <span>Pontaria (AGI)</span>
                                <input type="number" id="pontaria" value="1">
                            </div>
                        </div>
                        
                        <div class="skill-category">
                            <h3>Mentais</h3>
                            <div class="skill">
                                <span>Atualidades (INT)</span>
                                <input type="number" id="atualidades" value="1">
                            </div>
                            <div class="skill">
                                <span>Ciências (INT)</span>
                                <input type="number" id="ciencias" value="1">
                            </div>
                            <div class="skill">
                                <span>Crime (INT)</span>
                                <input type="number" id="crime" value="1">
                            </div>
                            <div class="skill">
                                <span>Investigação (INT)</span>
                                <input type="number" id="investigacao" value="1">
                            </div>
                            <div class="skill">
                                <span>Medicina (INT)</span>
                                <input type="number" id="medicina" value="1">
                            </div>
                        </div>
                        
                        <div class="skill-category">
                            <h3>Sociais</h3>
                            <div class="skill">
                                <span>Diplomacia (PRE)</span>
                                <input type="number" id="diplomacia" value="1">
                            </div>
                            <div class="skill">
                                <span>Enganação (PRE)</span>
                                <input type="number" id="enganacao" value="1">
                            </div>
                            <div class="skill">
                                <span>Intimidação (PRE)</span>
                                <input type="number" id="intimidacao" value="1">
                            </div>
                            <div class="skill">
                                <span>Percepção (PRE)</span>
                                <input type="number" id="percepcao" value="1">
                            </div>
                            <div class="skill">
                                <span>Vontade (PRE)</span>
                                <input type="number" id="vontade" value="1">
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Aba Poderes e Rituais -->
                <div id="powers-tab" class="tab-pane">
                    <h2>Poderes de Classe e Rituais</h2>
                    
                    <div class="abilities-list">
                        <div class="ability">
                            <h3>Ataque Especial</h3>
                            <p>Gaste 2 PE para receber +5 em um ataque</p>
                        </div>
                        <div class="ability">
                            <h3>Golpe Pesado</h3>
                            <p>Seu ataque causa +1 dado de dano</p>
                        </div>
                        <div class="ability">
                            <h3>Combate Defensivo</h3>
                            <p>Ganhe +5 em Defesa</p>
                        </div>
                        <div class="ability">
                            <h3>Escudo Mental</h3>
                            <p>Protege sua mente contra efeitos paranormais</p>
                        </div>
                        <div class="ability">
                            <h3>Amaldiçoar Arma</h3>
                            <p>Ritual: Arma causa dano paranormal adicional</p>
                        </div>
                        <div class="ability">
                            <h3>Definhar</h3>
                            <p>Ritual: Enfraquece inimigos próximos</p>
                        </div>
                        <div class="ability">
                            <h3>Perturbação</h3>
                            <p>Ritual: Cria ilusões para confundir oponentes</p>
                        </div>
                        <div class="ability">
                            <h3>Arma Atroz</h3>
                            <p>Ritual: Cria uma arma feita de energia paranormal</p>
                        </div>
                    </div>
                    
                    <div class="add-item">
                        <button class="btn-save">
                            <i class="fas fa-plus"></i> Adicionar Novo Poder
                        </button>
                    </div>
                </div>
                
                <!-- Aba Equipamento -->
                <div id="equipment-tab" class="tab-pane">
                    <h2>Equipamentos e Itens</h2>
                    
                    <div class="equipment-grid">
                        <div class="equipment-category">
                            <h3>Armas</h3>
                            <div class="equipment-item">
                                <input type="text" placeholder="Nome da arma" value="Pistola 9mm">
                            </div>
                            <div class="equipment-item">
                                <input type="text" placeholder="Nome da arma" value="Faca de Combate">
                            </div>
                            <div class="equipment-item">
                                <input type="text" placeholder="Nome da arma">
                            </div>
                        </div>
                        
                        <div class="equipment-category">
                            <h3>Armaduras</h3>
                            <div class="equipment-item">
                                <input type="text" placeholder="Nome da armadura" value="Colete Balístico">
                            </div>
                            <div class="equipment-item">
                                <input type="text" placeholder="Nome da armadura">
                            </div>
                        </div>
                        
                        <div class="equipment-category">
                            <h3>Itens Paranormais</h3>
                            <div class="equipment-item">
                                <input type="text" placeholder="Nome do item" value="Amuleto de Proteção">
                            </div>
                            <div class="equipment-item">
                                <input type="text" placeholder="Nome do item">
                            </div>
                        </div>
                        
                        <div class="equipment-category">
                            <h3>Itens Gerais</h3>
                            <div class="equipment-item">
                                <input type="text" placeholder="Nome do item" value="Kit Médico">
                            </div>
                            <div class="equipment-item">
                                <input type="text" placeholder="Nome do item" value="Lanterna">
                            </div>
                            <div class="equipment-item">
                                <input type="text" placeholder="Nome do item" value="Rádio Comunicador">
                            </div>
                            <div class="equipment-item">
                                <input type="text" placeholder="Nome do item">
                            </div>
                        </div>
                    </div>
                    
                    <div class="add-item">
                        <button class="btn-save">
                            <i class="fas fa-plus"></i> Adicionar Novo Item
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="save-button">
                <button class="btn-save" id="save-btn">
                    <i class="fas fa-save"></i> Salvar Alterações
                </button>
            </div>
        </div>
    </div>
    
    <script>
        // Elementos DOM
        const tokenPreview = document.getElementById('token-preview');
        const tokenUpload = document.getElementById('token-upload');
        const tabControls = document.querySelectorAll('.tab-control');
        const tabPanes = document.querySelectorAll('.tab-pane');
        const atributos = ['for', 'agi', 'int', 'vig', 'pre'];
        
        // Upload de token
        tokenUpload.addEventListener('change', function(e) {
            if (e.target.files && e.target.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    tokenPreview.innerHTML = `<img src="${e.target.result}" alt="Token do Personagem">`;
                }
                
                reader.readAsDataURL(e.target.files[0]);
            }
        });
        
        // Controle das abas
        tabControls.forEach(control => {
            control.addEventListener('click', function() {
                const tabId = this.querySelector('input').id.replace('tab-', '') + '-tab';
                
                // Ativar/desativar aba
                this.classList.toggle('active');
                
                // Ativar/desativar painel
                const pane = document.getElementById(tabId);
                pane.classList.toggle('active');
            });
        });
        
        // Atualizar modificadores de atributos
        atributos.forEach(atr => {
            const input = document.getElementById(atr);
            const mod = document.getElementById(`${atr}-mod`);
            
            input.addEventListener('input', function() {
                const value = parseInt(this.value) || 0;
                const modifier = Math.floor((value - 1) / 2);
                mod.textContent = modifier >= 0 ? `+${modifier}` : modifier;
            });
        });
        
        // Botão de salvar
        document.getElementById('save-btn').addEventListener('click', function() {
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Salvando...';
            
            // Simular salvamento
            setTimeout(() => {
                this.innerHTML = '<i class="fas fa-check"></i> Salvo com sucesso!';
                
                // Resetar após 2 segundos
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-save"></i> Salvar Alterações';
                }, 2000);
            }, 1000);
        });
    </script>
</body>
</html>